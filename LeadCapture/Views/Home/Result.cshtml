@using IDC.LeadCapture.BLL
@using IDC.LeadCapture.Models.Assessment
@using IDC.Common
@model IDC.LeadCapture.Models.Scoring
@{
    ViewBag.Title = ResourceCache.Localize("title_result");
}
<div class="margin-bottom-20">
    <h3 class="heading-sm">@ResourceCache.Localize("Progress") (<span id="progressText">0</span>%)</h3>
    <div class="progress progress-u progress-xs rounded">
        <div id="progressBar" class="progress-bar progress-bar-red" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%; background:#A10F2B;"></div>
    </div>
</div>
<div id="report">
    <input type="hidden" id="retry" value="false">
    @Html.Hidden("TargetPage", Session["TargetPage"])
    <input type="hidden" id="errorMsg" value="@ResourceCache.Localize("error_msg")">
    @using (Html.BeginForm("Assessment", "Home", FormMethod.Post, new { @id = "myForm", @name = "myForm", @class = "sky-form", data_fv_framework = "bootstrap", data_fv_icon_valid = "glyphicon glyphicon-ok", data_fv_icon_invalid = "glyphicon glyphicon-remove", data_fv_icon_validating = "glyphicon glyphicon-refresh", data_fv_onsuccess = "onFormSuccess" }))
    {
        @Html.AntiForgeryToken()
        @Html.Hidden("CurrentPage", Session["TargetPage"])
        <header>@ResourceCache.Localize("result_header")</header>
        <fieldset class="form-group">
            <section>
                <div class="row">
                    <div class="col-md-8">
                        <h4 class="margin-0">@Html.Raw(string.Format(ResourceCache.Localize("result_txt"), Model.AltLevelName))
                        </h4>
                        <center>
                            <div class="landing-image margin-0">
                                <img src="@("/Content/images/result-level-" + Model.RoundScoreOverall + ".png")" class="img-responsive" alt="Result Image" width="100%">
                            </div>
                        </center>
                        <br>
                    </div>
                    <div class="funny-boxes funny-boxes-top-blue col-md-4">
                        <section>
                            <h4>@ResourceCache.Localize("result_txt1")</h4>
                            <ul class="list-unstyled margin-left-15">
                                <li><i class="fa fa-arrow-circle-right"> </i>&nbsp; @ResourceCache.Localize("result_txt2")</li>
                                <li><i class="fa fa-arrow-circle-right"> </i>&nbsp; @ResourceCache.Localize("result_txt3")</li>
                                <li><i class="fa fa-arrow-circle-right"> </i>&nbsp; @ResourceCache.Localize("result_txt4")</li>
                                <li><i class="fa fa-arrow-circle-right"> </i>&nbsp; @ResourceCache.Localize("result_txt5")</li>
                            </ul>
                        </section>
                        @{Html.RenderPartial("Templates/_TextBox1", QuestionCache.GetQuestion(15), new ViewDataDictionary { { "icon", "icon-append fa fa-user" } });}
                        @{Html.RenderPartial("Templates/_TextBox1", QuestionCache.GetQuestion(16), new ViewDataDictionary { { "icon", "icon-append fa fa-user" } });}
                        @{Html.RenderPartial("Templates/_TextBox1", QuestionCache.GetQuestion(17), new ViewDataDictionary { { "icon", "icon-append fa fa-envelope" } });}
                        @{Html.RenderPartial("Templates/_TextBox1", QuestionCache.GetQuestion(18), new ViewDataDictionary { { "icon", "icon-append fa fa-phone" } });}
                        @{Html.RenderPartial("Templates/_CheckBox1", QuestionCache.GetQuestion(19));}
                        <section>
                            <div class="row">
                                <div class="col-md-6">
                                    <p>@Html.Raw(ResourceCache.Localize("result_txt6"))</p>
                                </div>
                            </div>
                        </section>
                        <section>
                            <div class="row">
                                <div class="col-md-12">
                                    <button type="submit" class="btn-u btn-block">@ResourceCache.Localize("Email Report")</button>
                                </div>
                            </div>
                        </section>
                    </div>
                </div>
            </section>
        </fieldset>
    }
    <footer>
        <button type="button" class="btn-u btn-u-default" onclick="window.location = '@Url.Action("OrgProfile", "Home")'">@ResourceCache.Localize("navigation_back")</button>
    </footer>
</div>
<div class="spacer30"></div>
<div class="modal fade" id="thankyou" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none; height:100%; top:0px;" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog" style="width:530px;">
        <div class="modal-content">
            <div class="modal-header reg-header" style="margin-bottom:0px;">
                <h2><strong>@ResourceCache.Localize("Thank You")</strong></h2>
            </div>
            <div class="modal-body">
                <div class="headline" style="border:none;">
                    <h4>@ResourceCache.Localize("result_modal_txt1")</h4>
                </div>
                <p>@ResourceCache.Localize("result_modal_txt2")</p>
                <div class="spacer10"></div>
                @Html.Raw(string.Format(ResourceCache.Localize("result_countdown"), ResourceCache.Localize("link_Ricoh")))
                <br><br>
            </div>
            <div class="modal-footer">
                <a id="redirect_link" href="@ResourceCache.Localize("url_ricoh")" class="btn-u" type="button">@ResourceCache.Localize("navigation_close")</a>
            </div>
        </div>
    </div>
</div>
